# This workflow will set up the oc CLI in your GitHub Action workflow and deploy your application to your OpenShift cluster.
#
# This workflow assumes you already have access to an OpenShift cluster.
# For instructions to get started with OpenShift see https://www.openshift.com/try
#
# To configure this workflow:
#
# 1. Set up a secret in your repository named OPENSHIFT_SERVER_URL with the value of your OpenShift server URL.
# 
# 2. Set up another secret named API_TOKEN with the value of a valid token to authenticate to OpenShift.
#
# 3. Change the values for the PROJECT and APP_NAME environment variables  (below).
#
# For more information on the OpenShift Action, refer to https://github.com/redhat-developer/openshift-actions

name: CI Pipeline  
on: [push]  
jobs:  
  test:  
    runs-on: ubuntu-latest  
    steps:  
      - name: Checkout code  
        uses: actions/checkout@v4  

      - name: Setup Node.js  
        uses: actions/setup-node@v4  
        with:  
          node-version: 20  

      - name: Install dependencies (simulated)  
        run: npm ci && npm test  
        continue-on-error: true  # Allows the job to proceed even if this step fails (for demo purposes)  

      - name: Print success  
        if: success()  
        run: echo "âœ… Tests passed! ${{ github.actor }} deployed this."
